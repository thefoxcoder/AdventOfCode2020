const inputs = [
    ".........#.#.#.........#.#.....",
    "...#......#...#.....#.....#....",
    "#.....#.....#.....#.#........#.",
    "......#..#......#.......#......",
    ".#..........#.............#...#",
    "............#..##.......##...##",
    "....#.....#..#....#............",
    ".#..#.........#....#.#....#....",
    "#.#...#...##..##.#..##..#....#.",
    ".#.......#.#...#..........#....",
    "...#...#........##...#..#.....#",
    "..................#..........#.",
    ".....#.##..............#.......",
    "........#....##..##....#.......",
    "...#.....#.##..........#...##..",
    ".......#.#....#............#...",
    "..............#......#......#..",
    "#.......#...........#........##",
    ".......#.......##......#.......",
    "................#....##...#.#.#",
    "#.......#....................#.",
    ".##.#..##..#..#.#.....#.....#..",
    "#...#............#......##....#",
    ".#....##.#......#.#......#..#..",
    "..........#........#.#.#.......",
    "...#...#..........#..#....#....",
    "..#.#...#...#...##...##......#.",
    "......#...#........#.......###.",
    "....#...............#.###...#.#",
    "..................#.....#..#.#.",
    ".#...#..#..........#........#..",
    "#..........##................##",
    "...#.....#...#......#.#......#.",
    "......#..........#.#......#..#.",
    "..#......#.....................",
    "............#.........##.......",
    "......#.......#........#.......",
    "#.#...#...........#.......#....",
    ".#.#........#.#.#....#........#",
    "#.....##........#.#.....#.#....",
    ".#...#..........##...#.....#..#",
    ".........#....###............#.",
    "..#...#..............#.#.#.....",
    ".....#.#.#..#.#.#.###......#.#.",
    ".#.##...#.......###..#.........",
    ".....##....#.##..#.##..#.......",
    "..#...........##......#..#.....",
    "................##...#.........",
    "##.....................#..#.###",
    "...#..#....#...........#.......",
    ".#.............##.#.....#.#....",
    ".......#.#.#....##..#....#...#.",
    "...##..#..........#....#.......",
    "....##......#.........#........",
    ".##....#...........#.#.......#.",
    "...#...#.##.......#.#..........",
    "..#.........#.##...........#...",
    "....#.##........#.......#...##.",
    "...................#..#..#...##",
    "#...#......###..##.#..###......",
    "#.............#.#........#...#.",
    "...#...#..#..#..............#..",
    "#.....#..#...#...#......#.#..#.",
    "...##.............#........##.#",
    "......#.#.........#.#....#...#.",
    "........##............#...#....",
    "............#.#...#......#.....",
    "...#...........#...#...........",
    ".........#.#......#............",
    "....#.............#..#.....#..#",
    "#.....#...........#.....#.#.#.#",
    ".............#.....##......#...",
    "...................###.#......#",
    "#.##.....#...#..#..#...#....#..",
    "............#.....#....#.#.....",
    "#....#..#..........#....#..#...",
    "..........##..................#",
    "....#.......###..#......###....",
    ".......#...#.##.##..#....##....",
    "...##...............#.....#...#",
    "#...........#...#......#..#..#.",
    "..##....#.......#...#.....#....",
    ".......##..............#.##..#.",
    ".#......#..........#.......#...",
    "....##...................#.#..#",
    "......#....###................#",
    ".#........#...........#........",
    ".#.....##....#..##...........#.",
    "##..............##...#.......#.",
    "......#..........#..........##.",
    "..#.....#.#.........####....#..",
    ".............#......#......#...",
    "..#.............#...........##.",
    "#.#...#........#..........##...",
    "...#....#.....#.....#.....##...",
    "......#........................",
    "......#..#...#......#.....#....",
    "......#....##.....#....#.......",
    "#.#......#.##..#...............",
    "..........#.#.##..##..#........",
    "......#.#..#....###.#..........",
    "........................#....#.",
    "#.#.............#....#.....##.#",
    ".#.#..........#.......#..#....#",
    "..#...#......#..#..#...#.#...#.",
    "...#.##...###..................",
    "........#.#...........#...#....",
    "........#..........#....#......",
    "#....#........#.......##.....#.",
    "......###...##...#......#......",
    "............#.......#.....##..#",
    "....#..#.......##......#.......",
    "#............##................",
    "...............#..#......#...#.",
    ".#....##...#......#............",
    "#...#................#.........",
    "..#....#..#........##......#...",
    "....#....###......##.#.......#.",
    "......#.#..#.#..#....#..#......",
    "....#..........#..#..#.........",
    ".#..#.......#......#........#..",
    ".......#..#..#............#....",
    ".............#...#....#..#.....",
    "..............#.#.#.........#..",
    "#.....##.......#....#..........",
    "...#.....#......#..............",
    "...##.#..#.#........#..##....#.",
    ".......#.#.....##..#...........",
    ".....#.#....#..................",
    ".#......#.###..............##..",
    "..#....#...#..#...##...##....#.",
    "..........##..#...#..#.........",
    "..#............#........#.#...#",
    ".........................#.#.#.",
    "......#........#.#..#......##.#",
    "#.#......#..#.........#........",
    ".....#........#......#...#.#...",
    "........##....##....#.#........",
    "....#....#.#...#...##....#..#..",
    "#.............#.....#..........",
    "#............##..#............#",
    "..#.#......#........#..........",
    ".#......#......#.#.##.##.......",
    "..#.....#..........#......##...",
    "...#......#...#.##....#.....##.",
    "......#......#...........#.#...",
    "....#........#..#..#........#.#",
    "....#.........#.....#...#.#.#..",
    "....#.....###........#.........",
    ".............##........#.#.....",
    "...#............#........#.#.#.",
    "......#....#.......#.#.........",
    ".....#................#........",
    ".#....#..#.#.............#...#.",
    "#..##...#............#......#..",
    "...#..#........................",
    ".#.#...........#.......#.......",
    "#....###............##.........",
    "...##....#.#............##.....",
    ".........####......#........#..",
    ".....#.......#.#...............",
    ".......#...#.###..#....#...#..#",
    "...#.....##..#....#..#.#...###.",
    ".............#........#.#.#..#.",
    "................#..........##..",
    ".......####..##..##........##.#",
    "..#......#..#..#.#.##..........",
    "#....#........#....#...###.#.#.",
    "........##........##.....#.....",
    "...........#.#...........#....#",
    "#.............#...........#....",
    "...#.........#...#....#.....#..",
    "..##......#...#...............#",
    ".............#.........#....#..",
    "..#...........#..#........#.##.",
    ".#.#......#.............##...#.",
    ".#......#.....##.#..#..#.......",
    "....##......#..................",
    ".#.#..##............#....#....#",
    "........#...##.............#..#",
    "........#....##.....#......###.",
    ".........#....#.#..............",
    "#.....#........................",
    ".#..#....#.....#......#.###..#.",
    "..........#...#....##....#..#..",
    "...#.#.#...##..#..#......#..#.#",
    "#............#.....#....#......",
    "#.###...#.#......###..#....#..#",
    "...#.###........#......#....#..",
    "..#.##...#.........#.#.........",
    "............##.................",
    "....#..........#.#.#.#.#....#..",
    "...##.#...#.......#.......##..#",
    "....##.#........#....#...#.....",
    ".............#.#....#...#.....#",
    "...#......................##...",
    "..#...#.....#.....#........#..#",
    "..#..#.......#....#..##.....#..",
    "..#..#.#.......................",
    ".......##..#....#....#..#......",
    "....#......##....#............#",
    ".#...#..#..#.##...#.#...#......",
    ".....#......#....#.........#...",
    ".##......##.........#....#.....",
    "#...........#...##.....#......#",
    ".....#.#.......#.........#.....",
    ".........#..........#..####.##.",
    "............#..#......#.#......",
    ".#.............#........#.#....",
    "......#......#...#..#....#####.",
    ".........##.#..##...###..#....#",
    "....#.#....#.#..#.........#....",
    "..#.............#...##...##....",
    "........#..........#.##..#....#",
    ".....#...#..##........#.#..#...",
    "##..#.#.....#............#.....",
    ".............#........##...##..",
    "#......####.....##.............",
    "..##.....##....###..#.#....#...",
    "......##.##.#...#..#.#..##.....",
    "......#.................#......",
    "#.....#.#...#......#.#....#....",
    "....#.#........#..............#",
    "##........#.......##.#...##...#",
    "..#..................#.#....#..",
    "...........#..........#.#.....#",
    "........##.#.....#......#..#..#",
    ".....#....#..#.....#.........##",
    "#.#..#..#...#......#..........#",
    "#...##.....#..#.#.......#.##...",
    "..#....##...............#......",
    "#..........#.#.........#.#....#",
    "..............#......#....#....",
    ".....#...........#...#...#...#.",
    "...#......#....#....#..........",
    ".#..........#.#....##..##....#.",
    "..............#.........#.#....",
    ".......#.....#.....#...##....#.",
    "##.#.........#....#.....#.#....",
    "....#..#......#................",
    "......##.....#.......##........",
    ".....##...#........#...#...#...",
    "..#...#...#..#..#.#......#..#..",
    "....#...#.......#..............",
    "....#..#.........###........#..",
    "....#.............##..#........",
    "..........##.#.......##..##....",
    "#.##..................#.....#..",
    "#........#........#.....#......",
    ".#...#......#..................",
    "#....##.##......#...#.........#",
    "......#.##..##................#",
    "............#.........##.......",
    "..........####.#........#.....#",
    ".##...#...#....#..#............",
    ".#.##...#..#...#......#......##",
    ".....#.#....#..###......#.#.#..",
    "...#.......................##..",
    "......................#.......#",
    "..#....#.........#..#.#.....#..",
    ".#....#..#....#...#............",
    "..........#...##.....#.#..#....",
    "........#..#..#....#...#...#...",
    ".....#......#.#................",
    ".....#...........#...#.........",
    ".....#...##..#.#....#..#.....#.",
    "#.......#.............##.......",
    "................#....#.#..#....",
    ".#..##...#.#........#......#.#.",
    ".#.##..........#...............",
    "....##......#....#........#....",
    "....#..#....#.##.#.............",
    ".......#..#......##.#.....#....",
    ".......#.....#.............#...",
    ".....#....#.......#............",
    "........#.#...##..##..##.......",
    "#.........##....##...##........",
    "........#..#.#..........###.#..",
    "..........................#.#..",
    "#.....#.......#..#........#....",
    "...##.....#.......#......#.....",
    ".#.#..#...........#...........#",
    ".....##..#........#...####.....",
    ".#.#...##.#.#..#..#.#..#.......",
    "..#.##.#...#.#.#...#..#........",
    "............#..........#..#....",
    "...............#..##.#.........",
    ".............#.....#....#......",
    "...##..##......##..........#...",
    "..#.......#....#..........#...#",
    ".##................#.#.#.......",
    ".....##.....#..#.....#.........",
    "......#.#.......#......#..#....",
    ".....#.....#........#.......##.",
    "......#.......##......#...#...#",
    "....#...........###.........#..",
    "...#.....#.........##........#.",
    "..#.....#..............#.......",
    "....#.......#...#....#....#..##",
    "......#...........#...........#",
    ".##......#......#.#.....#.##...",
    "....#..##......#...#..#.#.###..",
    ".......#.#....#......#..#......",
    "..........#........#...........",
    "#.##.........#.#.#...#...#.#...",
    ".#......###.....#....#.#....#..",
    "...................##..#.......",
    "....#..#..............#.#.....#",
    "#..................#.....#.....",
    "...........##.##.......#..#.#..",
    "........#.#......#...........#.",
    "#..#.......#...#...........#.#.",
    "......##...........#...........",
    ".........#.#........#........#.",
    "#......#....#.#.....#..#.......",
    "............#..#.....##...#....",
    ".#......#..#......#.........#..",
    ".......#...#.........#.##.....#",
    "........................#..#...",
    ".###..............#.#..#.......",
    ".....#.........#.......#......#",
    "..##..##....#.....#.......#.#..",
    "...###.#..#.##............#....",
];

var slopes = [[1, 1], [3, 1], [5, 1], [7, 1], [1, 2]]
const rowLength = inputs[0].length;
const treeSymbol = "#";


function getTreeEncounters(slopeRight, slopeDown) {
    function traverse(currentRow, currentColumn, treeEncounters){
        currentRow += slopeDown;
        currentColumn = (currentColumn + slopeRight) % rowLength

        if(currentRow >= inputs.length){
            return treeEncounters
        }

        if(inputs[currentRow][currentColumn] === treeSymbol){
            treeEncounters++;
        }

        return traverse(currentRow, currentColumn, treeEncounters) ;
    }

    return traverse(0, 0, 0);
}

const result = slopes.reduce((prev, current) => prev * (getTreeEncounters(current[0], current[1])), 1)


console.log(result)